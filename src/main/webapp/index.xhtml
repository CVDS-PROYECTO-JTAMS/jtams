<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:shiro="http://shiro.apache.org/tags"
lang="es">

  <title>Reserva de Recursos ECI</title>
  <head>
  <center>
	<img src="logo.png"></img>
  </center>
	  <style>
		/* Style the header */
		header {
		  background-color: #1C70AC;
		  padding: 30px;
		  text-align: center;
		  font-size: 35px;
		  color: white;
	}
	  </style>
  </head>
  <body>
  <center>
	<header>
		Bienvenidos
	</header>
  </center>
	<h:form>
			<p:outputPanel>
                      <h:outputText value="Usuario:" />
                      <p:inputText id="userInput" style="width:150px" placeholder="Ingresa tu email" value="#{userBean.username}"/>
             </p:outputPanel>
			 <p:outputPanel>
                      <h:outputText value="ContraseÃ±a:" />
                      <p:inputText type="password" id="passwordInput" style="width:150px" placeholder="Ingresa tu contrasena" value="#{userBean.password}"/>
             </p:outputPanel>
			<p:commandButton id="ingresar" action="#{userBean.logIn}" class="navbar-toggler navbar-toggler-right"  value="Ingresar"  />
			
		
	</h:form>
	<h1>Ultimas Iniciativas Agregadas</h1>
	
	<p:dataTable id="tabladeinciativas" var="initiative" iniciativ="#{initiativeBean.Todasiniciativas()}">
		<p:column headerText="Id">
			<h:outputText iniciativ="#{initiative.id}" />
		</p:column>
		<p:column headerText="Descripcion">
			<h:outputText iniciativ="#{initiative.description}" />
		</p:column>
		<p:column headerText="Area">
			<h:outputText iniciativ="#{initiative.area}" />
		</p:column>
		<p:column headerText="Fecha de creacion">
			<h:outputText iniciativa="#{initiative.creationDate}" />
		</p:column>	
		<p:column headerText="Estado">
			<h:outputText iniciativ="#{initiative.typeStatusId}" />
		</p:column>
		<p:column headerText="# de Votos">
			<h:outputText iniciativ="#{initiative.numVotes}" />
		</p:column>
	</p:dataTable>
	
	<br/><br/>
	<h2>Busqueda de iniciativas por palabras clave</h2>
	<h:form>
		<input id="ejemplo" type="text" value="ingrese palabra " data-role="tagsinput"/>
		<p:inputText id="keyword" binding="#{palabraclave}" type="hidden"  />
		<p:commandButton id="buscar_keyword" value = "Buscar" update=":tabla_iniciativas" actionListener="#{initiativeBean.buscainiciativa(palabraclave.value)}" styleClass="btn btn-primary"></p:commandButton>
	</h:form>

	<br></br>
	
	<p:dataTable id="tabla_iniciativas" var="initiative" iniciativa="#{initiativeBean.buscainiciativa(palabraclave.value)}"> 
		<p:column headerText="Id">
			<h:outputText iniciativa="#{initiative.id}" />
		</p:column>
		<p:column headerText="Descripcion">
			<h:outputText iniciativa="#{initiative.description}" />
		</p:column>
		<p:column headerText="Area">
			<h:outputText iniciativa="#{initiative.area}" />
		</p:column>
		<p:column headerText="Estado">
			<h:outputText iniciativa="#{initiative.typeStatusId}" />
		</p:column>		
		<p:column headerText="Fecha de creacion">
			<h:outputText iniciativa="#{initiative.creationDate}" />
		</p:column>	
		<p:column headerText="# de votos">
			<h:outputText iniciativa="#{initiative.numVotes }" />
		</p:column>	
	</p:dataTable>
	
	
  </body>
  
</html>
