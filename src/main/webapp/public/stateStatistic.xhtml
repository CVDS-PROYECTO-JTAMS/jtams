<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  lang="es">

  <title>Reserva de Recursos ECI</title>
  <h:head>
	  <style>
		table, th, td {
		  border: 3px solid black;
		  border-collapse: collapse;
		}
		th, td {
		  padding: 20px;
		  text-align: left;
		}
		div.background {
		  border: 0.5px solid black;
		}

		div.transbox {
		  margin: 30px;
		  background-color: #00366E;
		  border: 1px solid black;
		  opacity: 0.6;
		}

		div.transbox p {
		  margin: 5%;
		  font-weight: bold;
		  color: #ffffff;
		  text-align: center;
		}
		h4 {
          display: block;
          font-size: 2em;
          margin-top: 0.67em;
          margin-bottom: 0.67em;
          margin-left: 230px;
          margin-right: 0;
          font-weight: bold;
}
		</style>


	  <!-- FRAMEWORK BOOTSTRAP para el estilo de la pagina-->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

	  <!-- Los iconos tipo Solid de Fontawesome-->
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css"/>
	  <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

	  <!-- Nuestro css-->
	  <link rel="stylesheet" type="text/css" href="/css/indexEci.css" >
	  </link>

	  <div class="background">
		  <div class="transbox">
			  <p>PUBLIC</p>
		  </div>
	  </div>
  </h:head>
  <h:body>
	  <h:form>
		  <p:tabMenu activeIndex="5">
			  <p:menuitem value="Consultar Iniciativas" outcome="searchInitiativePublic.xhtml" icon="ui-icon-document"/>
			  <p:menuitem value="Listar Iniciativas" outcome="listInitiativePublic.xhtml" icon="ui-icon-document"/>
			  <p:menuitem value="Comentar Iniciativas" outcome="addComment.xhtml" icon="ui-icon-document"/>
			  <p:menuitem value="Busqueda de iniciativas" outcome="otherSearchInitiativePublic.xhtml" icon="ui-icon-script"/>
			  <p:menuitem value="Estadisticas" outcome="statistic.xhtml" icon="ui-icon-script"/>
			  <p:menuitem value="Estadisticas Estado" outcome="stateStatistic.xhtml" icon="ui-icon-script"/>
			  <p:menuitem value="Salir" action="#{LoginBean.logout}" icon="ui-icon-close" style="position: absolute; left: 600px;"></p:menuitem>
		  </p:tabMenu>
		  <br></br>
		  <p:dataTable id="tabla_iniciativas" var="initiative" value="#{InitiativeBean.Todasiniciativas()}"
					   paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {Exporters}"
					   paginator="true" rows="10" style="margin-bottom:20px">

			  <f:facet name="{Exporters}">
				  <div style="float:right;padding-top: 5px;">
					  <h:commandLink>
						  <p:graphicImage url="/img/excel.png" width="24"/>
						  <p:dataExporter type="xls" target="tabla_iniciativas" fileName="Estadisticas estado Iniciativas" pageOnly="true" />
					  </h:commandLink>
					  <h:commandLink>
						  <p:graphicImage url="/img/pdf.png" width="24"/>
						  <p:dataExporter type="pdf" target="tabla_iniciativas" fileName="Estadisticas estado Iniciativas" pageOnly="true" />
					  </h:commandLink>
				  </div>
			  </f:facet>

			  <p:column>
				  <f:facet name="header">
					  <h:outputText value="Id" />
				  </f:facet>
				  <h:outputText value="#{initiative.id}" />
			  </p:column>

			  <p:column>
				  <f:facet name="header">
					  <h:outputText value="Description"/>
				  </f:facet>
				  <h:outputText value="#{initiative.description}" />
			  </p:column>

			  <p:column>
				  <f:facet name="header">
					  <h:outputText value="Estado" />
				  </f:facet>
				  <h:outputText value="#{initiative.typeStatusId}" />
			  </p:column>

		  </p:dataTable>
	  </h:form>
	  <p:chart type="pie" model="#{StatisticBean.barModelState}" responsive="true"/>
  </h:body>
</html>
