<!DOCTYPE html>
<html xmlns="http://www.w3c.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  lang="es">

  <title>Reserva de Recursos ECI</title>
  <h:head>
	  <style>
table, th, td {
  border: 3px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 20px;
  text-align: left;
}
</style>
	  <!--JQUERY-->
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	  <!-- FRAMEWORK BOOTSTRAP para el estilo de la pagina-->
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

	  <!-- Los iconos tipo Solid de Fontawesome-->
	  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css"/>
	  <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>

	  <!-- Nuestro css-->
	  <link rel="stylesheet" type="text/css" href="/css/indexEci.css" >
	  </link>
  </h:head>
  <body>
  <center>
	<header>
		<h:form>
		<p:dataTable id="tabla_cambiarEstado" var="user" value="#{userBean.users}">
			<p:column headerText="Id">
				<h:outputText value="#{user.id}" />
			</p:column>

			<p:column headerText="Year">
				<h:outputText value="#{user.email}" />
			</p:column>

			<p:column headerText="User Type">
				<h:outputText value="#{user.type}" />
			</p:column>
		</p:dataTable>
			<h:panelGrid columns="3">
				<p:outputLabel for="@next" value="Ingresa e email:" />
				<p:inputText id="userInput" data-validation-required-message="Please enter your username." placeholder="Ingresa tu email" value="#{userBean.usernameToUpdate}"/>
				<h:selectOneMenu id="user_select" value="#{userBean.typeToUpdate}">
					<f:selectItem itemLabel="Administrador" itemValue="ADMINISTRATOR" />
					<f:selectItem itemLabel="Personal" itemValue="PERSONAL" />
					<f:selectItem itemLabel="Proponente" itemValue="PROPONENT" />
					<f:selectItem itemLabel="Publico" itemValue="PUBLIC" />
				</h:selectOneMenu>
			</h:panelGrid>
			<p:commandButton style="width: 150px" value="Modificar" id="modificar" action="#{userBean.updateTypeUser}"   ajax="true" />
		</h:form>
	</header>
  </center>
	<article>
		<center>
			admin
		</center>
	</article>

  <br/><br/>
  <br/><br/>
  <br/><br/>


 <center>
  <h1 style="color:white">Ultimas Iniciativas Agregadas</h1>
                <p:dataTable var="initiative" value="#{InitiativeBean.Todasiniciativas()}"   style="margin-bottom:20px"  >
                    <p:column headerText="Id" style="width:30px" >
                        <h:outputText value="#{initiative.id}" />
                    </p:column>
                    <p:column headerText="Descripcion" style="width:260px" >
                     
                        <h:outputText value="#{initiative.description}" align="left"/>
                        
                    </p:column>
                    <p:column headerText="Area" style="width:140px">
                        <h:outputText value="#{initiative.area}" />
                    </p:column>
                    <p:column headerText="Fecha de creacion" style="width:270px">
                    
                        <h:outputText value="#{initiative.creationDate}" />
                        
                    </p:column>
                    
                    <p:column headerText="Estado" style="width:180px">
                     <center>
                        <h:outputText value="#{initiative.typeStatusId}" />
                         </center>
                    </p:column>
                    
                    
                    <p:column headerText="# de Votos" style="width: 70px" >
                     <center>
                        <h:outputText value="#{initiative.numVotes}" />
                        </center>
                    </p:column>
					<p:column headerText="Nuevo estado" style="width:180px" >
						<h:selectOneMenu id="initiative_estado" value="#{InitiativeBean.statusToUpdate}">
						<f:selectItem itemLabel="En espera revison" itemValue="En espera revison" />
						<f:selectItem itemLabel="En Revision" itemValue="En Revision" />
						<f:selectItem itemLabel="Aceptada" itemValue="Aceptada" />
						<f:selectItem itemLabel="Declinada" itemValue="Declinada" />
				</h:selectOneMenu>
                    </p:column>
					<p:column headerText="Cambiar" style="width: 110px" >
                     <p:commandButton style="width: 90px" value="Aplicar" id="modificar"  action="#{InitiativeBean.updateStatusInitiative(initiative.id)}" ajax="true" />
                    </p:column>
                </p:dataTable>
                 </center>
                	


  </body>
  
</html>
